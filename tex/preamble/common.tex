\documentclass[a4paper, 12pt]{article}



% Typography

%% Enable typography stuff
\usepackage[no-math]{fontspec}
\defaultfontfeatures{Mapping = tex-text}

%% Enable math
\usepackage{unicode-math}
\usepackage{amsmath}
\usepackage{mathtext}

%% Use nice fractions
\usepackage{nicefrac}



% Polyglossia

\usepackage{polyglossia}
\setdefaultlanguage{russian}
\setotherlanguage{english}



% Fonts

\setmainfont{Linux Libertine}

\newfontfamily\cyrillicfontsf[Scale = MatchLowercase]{Droid Sans}
\setsansfont{Droid Sans}

\newfontfamily\cyrillicfonttt[Scale = MatchLowercase]{Droid Sans Mono}
\setmonofont{Droid Sans Mono}

\setmathfont[range = \mathit]{Asana Math}
\setmathfont{Asana Math}

%% Set Sans font in titles
\usepackage{sectsty}
\allsectionsfont{\sffamily}



% Page setup

\usepackage{geometry}

\geometry {
  left = 2cm,
  right = 2cm,
  top = 1.5cm,
  bottom = 2cm
}

%% Use contents
\usepackage{titletoc}

% Set line spacing
\usepackage{setspace}
\setstretch{1.1}

% Enable first indention in section
\usepackage{indentfirst}
\parindent = 2em



% Colors

\usepackage{xcolor}

%% Tango color palette

\definecolor{LightButter}{HTML}{FCE94F}
\definecolor{Butter}{HTML}{EDD400}
\definecolor{DarkButter}{HTML}{C4A000}

\definecolor{LightOrange}{HTML}{FCAF3E}
\definecolor{Orange}{HTML}{F57900}
\definecolor{DarkOrange}{HTML}{CE5C00}

\definecolor{LightChocolate}{HTML}{e9b96e}
\definecolor{Chocolate}{HTML}{C17D11}
\definecolor{DarkChocolate}{HTML}{8F5902}

\definecolor{LightChameleon}{HTML}{8AE234}
\definecolor{Chameleon}{HTML}{73D216}
\definecolor{DarkChameleon}{HTML}{4E9A06}

\definecolor{LightSkyBlue}{HTML}{729FCF}
\definecolor{SkyBlue}{HTML}{3465A4}
\definecolor{DarkSkyBlue}{HTML}{204A87}

\definecolor{LightPlum}{HTML}{AD7FA8}
\definecolor{Plum}{HTML}{75507B}
\definecolor{DarkPlum}{HTML}{5C3566}

\definecolor{LightScarletRed}{HTML}{EF2929}
\definecolor{ScarletRed}{HTML}{CC0000}
\definecolor{DarkScarletRed}{HTML}{A40000}

\definecolor{Aluminium1}{HTML}{EEEEEC}
\definecolor{Aluminium2}{HTML}{D3D7CF}
\definecolor{Aluminium3}{HTML}{BABDB6}
\definecolor{Aluminium4}{HTML}{888A85}
\definecolor{Aluminium5}{HTML}{555753}
\definecolor{Aluminium6}{HTML}{2e3436}



% PDF configuration

%% * breaklinks — allow links to break across lines
%% * xetex — backend sign
%% * bookmarks — provide PDF bookmarks
\usepackage[breaklinks, xetex, bookmarks]{hyperref}

%% * linkcolor — local links
%% * citecolor — citations
%% * urlcolor — URLs
\hypersetup {
  colorlinks,
  linkcolor = DarkSkyBlue,
  citecolor = DarkSkyBlue,
  urlcolor = DarkSkyBlue,
}

%% PDF information
\hypersetup {
  pdfauthor = {Дрёмов Артур},
  pdfcreator = {XeTeX}
}

%% Don’t use Mono font for URLs
\urlstyle{same}




% Tables

%% Use long tables
\usepackage{longtable}

%% Table alignment
\usepackage{tabularx}
\newcolumntype{L}{>{\raggedright\arraybackslash}X}
\newcolumntype{P}[1]{>{\raggedright\arraybackslash}p{#1}}



% Bibliography

\usepackage[backend = biber]{biblatex}



% Other options

%% Provide PDF files inserting
\usepackage[final]{pdfpages}

%% Format paragraphs
\makeatletter
\renewcommand\paragraph{
  \@startsection{paragraph}{4}{\parindent}
    {2.5ex}{2.5ex}
    {\normalfont\normalsize\bfseries}}
\makeatother

%% Use clever appendix provider
\usepackage[titletoc, title]{appendix}



% Custom commands

%% Term
\newcommand{\term}{\textit}

%% Expression
\newcommand{\expr}{\textit}

%% File system
\newcommand{\fs}{\textit}

%% Code
\newcommand{\code}{\texttt}

%% Inline code
\usepackage{minted}
\newminted[inlinecode]{text}{fontsize = \footnotesize}

%% Source code from file
\usemintedstyle{tango}
\newcommand{\source}[2]
{
  \inputminted[
    frame = single,
    linenos,
    numbersep = -12pt,
    framesep = 20pt,
    tabsize = 2,
    fontsize = \footnotesize
  ]{#1}{#2}
}

%% Image
\usepackage{graphicx}
\newcommand{\image}[2][1]
{
  \begin{center}
    \includegraphics[width = #1\textwidth]{#2}
  \end{center}
}
